var app;!function(t){angular.module("nationalRailViewer",["ngRoute","toastr","ngAnimate"])}(app||(app={}));var app;!function(t){var r;!function(t){function r(t){t.when("/:City",{templateUrl:"main.html",controller:"MainController",controllerAs:"vm"}).otherwise({redirectTo:"/Aberdeen"})}r.$inject=["$routeProvider"],angular.module("nationalRailViewer").config(r)}(r=t.routes||(t.routes={}))}(app||(app={}));var app;!function(t){var r;!function(t){var r=function(){function t(){}return t}();t.Journey=r}(r=t.dataobjects||(t.dataobjects={}))}(app||(app={}));var app;!function(t){var r;!function(t){var r=function(){function t(t){this.http=t}return t.prototype.getDepartures=function(t){return this.http.get("http://nationalrail.azurewebsites.net/departures/"+t).then(function(t){return t.data})},t.prototype.getArrivals=function(t){return this.http.get("http://nationalrail.azurewebsites.net/arrivals/"+t).then(function(t){return t.data})},t.$inject=["$http"],t}();t.NationalRailService=r,angular.module("nationalRailViewer").service("nationalRail",["$http",function(t){return new r(t)}])}(r=t.services||(t.services={}))}(app||(app={}));var app;!function(t){var r;!function(t){var r=function(){function t(t){this.trainServices=t}return t}();t.QueryResult=r}(r=t.dataobjects||(t.dataobjects={}))}(app||(app={}));var app;!function(t){var r;!function(t){var r=function(){function t(){}return t}();t.TrainServices=r}(r=t.dataobjects||(t.dataobjects={}))}(app||(app={}));var app;!function(t){var r;!function(t){var r=function(){function t(t,r,a,n){var i=this;this.NationalRail=t,this.$interval=r,this.$routeParams=a,this.toastr=n,this.isErrorRaised=!1,this.city=a.City,this.GetData(),this.$interval(function(){i.GetData()},6e4)}return t.prototype.onError=function(t){this.isErrorRaised||(toastr.error("Could not load data for '"+this.city+"'!","Error"),this.isErrorRaised=!this.isErrorRaised)},t.prototype.GetData=function(){var t=this;this.NationalRail.getDepartures(this.city).then(function(r){t.departures=r},this.onError),this.NationalRail.getArrivals(this.city).then(function(r){t.arrivals=r},this.onError)},t.$inject=["nationalRail","$interval","$routeParams","toastr"],t}();t.MainController=r;var a=angular.module("nationalRailViewer");a.controller("MainController",["nationalRail","$interval","$routeParams","toastr",function(t,a,n,i){return new r(t,a,n,i)}])}(r=t.controllers||(t.controllers={}))}(app||(app={}));var app;!function(t){var r;!function(t){"use strict";var r=function(){function t(t){this.NationalRail=t}return t.$inject=["NationalRail"],t}();t.TestController=r,angular.module("nationalRailViewer").controller("TestController",r)}(r=t.controllers||(t.controllers={}))}(app||(app={}));