<!DOCTYPE html>
<html ng-app="nationalRailViewer">

<head>
  <link data-require="bootstrap-css@3.3.6" data-semver="3.3.6" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css" />
  <script data-require="angularjs@1.4.8" data-semver="1.4.8" src="https://code.angularjs.org/1.4.8/angular.js"></script>
  <script data-require="jquery@*" data-semver="2.2.0" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script data-require="bootstrap@3.3.6" data-semver="3.3.6" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="style.css" />
  
  <!-- Angular -->
  <script src="app.module.js"></script>
  <script src="MainController.js"></script>
  <script src="nationalrail.service.js"></script>
</head>

<body ng-controller="MainController as vm" class="container">
 
  <div class="col-md-12 col-lg-12">
    <h1>Live Departure/Arrival board for <strong>Aberdeen</strong></h1>
    
    <div class="warning" ng-show="vm.error">{{ vm.error }}</div>
    
    <table class="table table-striped table-bordered">
      <caption>Departures</caption>
      <thead>
        <tr>
          <th class="station">From</th>
          <th class="destination">To</th>
          <th class="departs">Departs</th>
          <th class="estimated">Estimated</th>
          <th class="platform">Platform</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="services in vm.departures.trainServices">
          <td> {{ services.origin[0].locationName }} ({{ services.origin[0].crs }}) </td>
          <td> {{ services.destination[0].locationName }} ({{ services.destination[0].crs }}) </td>
          <td> {{ services.std }}</td>
          <td ng-class="{'delayed':services.etd!='On time'}"> {{ services.etd }}</td>
          <td> {{ services.platform }}</td>
        </tr>
      </tbody>
    </table>

    <table class="table table-striped table-bordered">
      <caption>Arrivals</caption>
      <thead>
        <tr>
          <th class="station">From</th>
          <th class="destination">To</th>
          <th class="departs">Departs</th>
          <th class="estimated">Estimated</th>
          <th class="platform">Platform</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="sv in vm.arrivals.trainServices">
          <td> {{ sv.origin[0].locationName }} ({{ sv.origin[0].crs }}) </td>
          <td> {{ sv.destination[0].locationName }} ({{ sv.destination[0].crs }}) </td>
          <td> {{ sv.sta }}</td>
          <td ng-class="{'delayed':sv.eta!='On time'}"> {{ sv.eta }}</td>
          <td> {{ sv.platform }}</td>
        </tr>
      </tbody>
    </table>
    
  <footer class="footer">
      <span class="col-md-6">Created by: Gareth Oates & James Duffield</span>
      <span class="col-md-6">Last Updated: {{ vm.departures.generatedAt | date: 'dd/MM/yyyy HH:mm:ss' }}</span>
  </footer>
  </div>
 </body>

</html>