var App;!function(t){var r;!function(t){"use-strict"}(r=t.Services||(t.Services={}))}(App||(App={}));var App;!function(t){var r;!function(t){"use-strict"}(r=t.Services||(t.Services={}))}(App||(App={}));var App;!function(t){var r;!function(t){"use-strict"}(r=t.Services||(t.Services={}))}(App||(App={}));var App;!function(t){var r;!function(t){"use-strict";var r=function(){function t(t){this.trainServices=t}return t}();t.QueryResult=r}(r=t.Services||(t.Services={}))}(App||(App={}));var App;!function(t){var r;!function(t){var r=function(){function t(){}return t}();t.Journey=r}(r=t.Services||(t.Services={}))}(App||(App={}));var App;!function(t){var r;!function(t){var r=function(){function t(t){this.http=t}return t.prototype.getDepartures=function(t){return this.http.get("http://nationalrail.azurewebsites.net/departures/"+t).then(function(t){return t.data})},t.prototype.getArrivals=function(t){return this.http.get("http://nationalrail.azurewebsites.net/arrivals/"+t).then(function(t){return t.data})},t.$inject=["$http"],t}();t.NationalRailService=r;var i=angular.module("nationalRailViewer");i.service("NationalRail",r)}(r=t.Services||(t.Services={}))}(App||(App={}));var App;!function(t){var r;!function(t){!function(){angular.module("nationalRailViewer",["ngRoute","toastr","ngAnimate"])}()}(r=t.Services||(t.Services={}))}(App||(App={}));var App;!function(t){var r;!function(t){!function(){function t(t){t.when("/:City",{templateUrl:"build/views/main.html",controller:"MainController",controllerAs:"vm"}).otherwise({redirectTo:"/Aberdeen"})}t.$inject=["$routeProvider"],angular.module("nationalRailViewer").config(t)}()}(r=t.Services||(t.Services={}))}(App||(App={}));var App;!function(t){var r;!function(t){var r=function(){function t(){}return t}();t.TrainServices=r}(r=t.Services||(t.Services={}))}(App||(App={}));var App;!function(t){var r;!function(r){"use strict";var i=function(){function t(t,r,i,e){this.NationalRail=t,this.$interval=r,this.$routeParams=i,this.toastr=e,this.onGetDeparturesComplete=function(t){this.departures=t},this.onGetArrivalsComplete=function(t){this.arrivals=t},this.isErrorRaised=!1,this.GetData=function(){this.NationalRail.getDepartures(this.city).then(this.onGetDeparturesComplete,this.onError),this.NationalRail.getArrivals(this.city).then(this.onGetArrivalsComplete,this.onError)},this.city=i.City,this.GetData(),this.$interval(this.GetData,6e4)}return t.prototype.onError=function(t){this.isErrorRaised||(toastr.error('Could not load data for "'+this.city+'"',"Error"),this.isErrorRaised=!this.isErrorRaised)},t.$inject=["NationalRail","$interval","$routeParams","toastr"],t}();r.MainController=i;var e=angular.module("nationalRailViewer");e.controller("MainController",["NationalRail","$interval","$routeParams","toastr",function(r,i,e,n){return new t.Services.MainController(r,i,e,n)}])}(r=t.Services||(t.Services={}))}(App||(App={}));