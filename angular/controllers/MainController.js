!function(){function r(r,t,n,a){function o(){r.getDepartures(i.city).then(e,u),r.getArrivals(i.city).then(l,u)}var i=this;i.city=n.City;var e=function(r){i.departures=r},l=function(r){i.arrivals=r},c=!1,u=function(r){c||(i.error='Could not load data for "'+i.city+'"',a.error(i.error,"Error"),c=!c)};o(),t(o,6e4)}r.$inject=["NationalRail","$interval","$routeParams","toastr"],angular.module("nationalRailViewer").controller("MainController",r)}();